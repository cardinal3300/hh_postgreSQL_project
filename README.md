# HH PostgreSQL Project

Проект для сбора информации о работодателях и вакансиях с сайта [hh.ru](https://hh.ru), сохранения данных в PostgreSQL и работы с ними через Python.

---

## Описание

Программа позволяет:

- Создавать базу данных и таблицы для работодателей и вакансий.
- Загружать данные о работодателях и их вакансиях с HH API.
- Сохранять данные в PostgreSQL для последующей работы.
- Получать статистику и фильтровать вакансии по различным критериям.
- Взаимодействовать с пользователем через текстовый интерфейс.
---

## Структура проекта

```
    hh_postgreSQL_project/
    │
    ├─ data/ # Локальные JSON-файлы с данными работодателей и вакансий
    ├─ src/
    │ ├─ api_client.py # Работа с HH API
    │ ├─ db_setup.py # Создание базы данных и таблиц
    │ ├─ db_manager.py # Класс DBManager и методы для работы с БД
    │ ├─ loader.py # Заполнение таблиц работодателей и вакансий
    │ ├─ interface.py # Текстовый интерфейс для пользователя
    │ └─ utils.py # Вспомогательные функции
    ├─ .venv/ # Виртуальное окружение
    ├─ main.py # Основной скрипт для запуска
    ├─ README.md # Этот файл
    ├─ pyproject.toml
    └─ user_settings.json
```

---

## Установка и настройка

1. Клонируйте репозиторий:

```bash
    git clone <URL-репозитория> cd hh_postgreS
```

2. Создайте виртуальное окружение и установите зависимости через Poetry:

```bash
    poetry install
    poetry shell
```

3. Создайте файл `.env` с параметрами БД:

```json
    {
      "DB_NAME": "hh_postgreSQL_project",
      "DB_USER": "postgres",
      "DB_PASSWORD": "<ваш пароль>",
      "DB_HOST": "localhost",
      "DB_PORT": "5432"
    }
```
---

## Использование

1. Запуск основного скрипта:

```bash
    python main.py
```

2. Программа выполнит:

- Создание базы данных и таблиц.

- Получение данных о работодателях и вакансиях.

- Заполнение таблиц.

- Демонстрационный поиск вакансий по ключевому слову.

- Запуск интерфейса пользователя.
---

## Методы DBManager

- `get_companies_and_vacancies_count()` — список всех компаний с количеством вакансий.

- `get_all_vacancies()` — список всех вакансий с названием компании, вакансии, зарплатой и ссылкой.

- `get_avg_salary()` — средняя зарплата по всем вакансиям.

- `get_vacancies_with_higher_salary()` — вакансии с зарплатой выше средней.

- `get_vacancies_with_keyword(keyword: str)` — вакансии, содержащие переданное слово в названии.
---

## Пример работы

```text
    Создание базы данных и таблиц...
    База hh_postgreSQL_project уже существует
    Таблицы созданы или уже существуют
    Получение данных о компаниях...
    Получение вакансий компаний...
    Заполнение таблицы работодателей...
    Заполнение таблицы вакансий...
    Всего добавлено вакансий: 120
    Введите ключевое слово для поиска вакансий: python
    Найдено вакансий с ключевым словом 'python': 15
    Запуск интерфейса пользователя...
    Работа завершена.
```
---

## Технологии

- Python 3.13

- PostgreSQL

- requests для работы с HH API

- psycopg2 / для работы с PostgreSQL

- poetry для управления зависимостями

---

## Документация

Более подробную документацию по каждой функции можно найти в `docstrings` внутри исходного кода.

---

## Лицензия

MIT License

---

## Контакты

Укажите [ваши контактные данные](https://github.com) или
[способы связи](https://github.com) для обратной связи и поддержки.

---

## Автор

Игорь Жердев

---